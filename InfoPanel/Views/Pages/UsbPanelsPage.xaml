<Page
    x:Class="InfoPanel.Views.Pages.UsbPanelsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="using:InfoPanel"
    d:DesignHeight="800"
    d:DesignWidth="1000"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <ScrollViewer>
        <StackPanel MaxWidth="1340" Margin="20,20,20,20" Spacing="10">
            
            <!-- BeadaPanel Section -->
            <Expander HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch" IsExpanded="True">
                <Expander.Header>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <SymbolIcon Symbol="Document" Grid.Column="0" Margin="0,0,12,0" />
                        <StackPanel Grid.Column="1">
                            <TextBlock FontSize="13" FontWeight="SemiBold" Text="BeadaPanel Displays" />
                            <TextBlock FontSize="12" Opacity="0.7" Text="Configure and run multiple BeadaPanel devices simultaneously." />
                        </StackPanel>
                        <ToggleSwitch x:Name="ToggleBeadaPanelMode" Grid.Column="2" />
                    </Grid>
                </Expander.Header>
                
                <StackPanel Spacing="10" Padding="0,10,0,0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <HyperlinkButton Content="BeadaTools" NavigateUri="https://www.nxelec.com/service/beadatools/" />
                        <Button x:Name="ButtonDiscoverBeadaPanel" Grid.Column="1" Content="Discover Devices" Click="ButtonDiscoverBeadaPanelDevices_Click">
                            <Button.Content>
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <SymbolIcon Symbol="Find" />
                                    <TextBlock Text="Discover Devices" />
                                </StackPanel>
                            </Button.Content>
                        </Button>
                    </Grid>
                    
                    <ItemsRepeater x:Name="RepeaterBeadaPanelDevices">
                        <ItemsRepeater.Layout>
                            <StackLayout Spacing="10" />
                        </ItemsRepeater.Layout>
                        <ItemsRepeater.ItemTemplate>
                            <DataTemplate>
                                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" CornerRadius="8" Padding="16">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Grid.Column="0" Spacing="4">
                                            <TextBlock FontSize="13" FontWeight="SemiBold" Text="{Binding RuntimeProperties.Name}" />
                                            <TextBlock FontSize="12" Opacity="0.7">
                                                <Run Text="{Binding DeviceId}" />
                                                <Run Text=" - " />
                                                <Run Text="{Binding DeviceLocation}" />
                                            </TextBlock>
                                            <TextBlock FontSize="12" Opacity="0.7">
                                                <Run Text="Dimensions: " />
                                                <Run Text="{Binding RuntimeProperties.PanelInfo.ModelInfo.Width}" />
                                                <Run Text="x" />
                                                <Run Text="{Binding RuntimeProperties.PanelInfo.ModelInfo.Height}" />
                                            </TextBlock>
                                            <TextBlock x:Name="TextBlockBeadaStatus" FontSize="12" Foreground="LawnGreen" Text="Panel is running" />
                                        </StackPanel>
                                        <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="10">
                                            <ComboBox Width="200" Header="Profile" DisplayMemberPath="Name" />
                                            <Slider Width="150" Header="Brightness" Minimum="0" Maximum="100" />
                                            <ToggleSwitch Header="Enabled" IsOn="{Binding Enabled, Mode=TwoWay}" />
                                            <Button Click="ButtonRemoveBeadaPanelDevice_Click" Tag="{Binding}">
                                                <SymbolIcon Symbol="Delete" />
                                            </Button>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </ItemsRepeater.ItemTemplate>
                    </ItemsRepeater>
                </StackPanel>
            </Expander>

            <!-- TuringPanel Section -->
            <Expander HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch" IsExpanded="True">
                <Expander.Header>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <SymbolIcon Symbol="Document" Grid.Column="0" Margin="0,0,12,0" />
                        <StackPanel Grid.Column="1">
                            <TextBlock FontSize="13" FontWeight="SemiBold" Text="Turzx Displays" />
                            <TextBlock FontSize="12" Opacity="0.7" Text="Configure and run multiple Turzx devices simultaneously." />
                        </StackPanel>
                        <ToggleSwitch x:Name="ToggleTuringPanelMode" Grid.Column="2" />
                    </Grid>
                </Expander.Header>
                
                <StackPanel Spacing="10" Padding="0,10,0,0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <Button x:Name="ButtonDiscoverTuringPanel" Grid.Column="1" Click="ButtonDiscoverTuringPanelDevices_Click">
                            <Button.Content>
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <SymbolIcon Symbol="Find" />
                                    <TextBlock Text="Discover Devices" />
                                </StackPanel>
                            </Button.Content>
                        </Button>
                    </Grid>
                    
                    <ItemsRepeater x:Name="RepeaterTuringPanelDevices">
                        <ItemsRepeater.Layout>
                            <StackLayout Spacing="10" />
                        </ItemsRepeater.Layout>
                        <ItemsRepeater.ItemTemplate>
                            <DataTemplate>
                                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" CornerRadius="8" Padding="16">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Grid.Column="0" Spacing="4">
                                            <TextBlock FontSize="13" FontWeight="SemiBold" Text="{Binding Name}" />
                                            <TextBlock FontSize="12" Opacity="0.7">
                                                <Run Text="{Binding DeviceId}" />
                                                <Run Text=" - " />
                                                <Run Text="{Binding DeviceLocation}" />
                                            </TextBlock>
                                            <TextBlock FontSize="12" Opacity="0.7">
                                                <Run Text="Dimensions: " />
                                                <Run Text="{Binding ModelInfo.Width}" />
                                                <Run Text="x" />
                                                <Run Text="{Binding ModelInfo.Height}" />
                                            </TextBlock>
                                            <TextBlock x:Name="TextBlockTuringStatus" FontSize="12" Foreground="LawnGreen" Text="Panel is running" />
                                        </StackPanel>
                                        <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="10">
                                            <Button Content="Manage Storage" Click="ButtonManageTuringDevice_Click" Tag="{Binding}" />
                                            <ComboBox Width="200" Header="Profile" DisplayMemberPath="Name" />
                                            <Slider Width="150" Header="Brightness" Minimum="0" Maximum="100" />
                                            <ToggleSwitch Header="Enabled" IsOn="{Binding Enabled, Mode=TwoWay}" />
                                            <Button Click="ButtonRemoveTuringPanelDevice_Click" Tag="{Binding}">
                                                <SymbolIcon Symbol="Delete" />
                                            </Button>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </ItemsRepeater.ItemTemplate>
                    </ItemsRepeater>
                </StackPanel>
            </Expander>
        </StackPanel>
    </ScrollViewer>
</Page>
