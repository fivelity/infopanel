<Application
    x:Class="InfoPanel.App"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="clr-namespace:InfoPanel.Views.Converters"
    xmlns:enums="clr-namespace:InfoPanel.Enums"
    xmlns:local="clr-namespace:InfoPanel"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    SessionEnding="App_SessionEnding">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <!--  MahApps  -->
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Controls.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Fonts.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Themes/Dark.Blue.xaml" />

                <ui:ThemesDictionary Theme="Dark" />
                <ui:ControlsDictionary />

                <!--  InfoPanel Design System - shadcn/ui inspired component library  -->
                <ResourceDictionary Source="/Styles/DesignSystem.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <!-- Global Implicit Styles for Shadcn Design System Redesign -->
            <Style TargetType="Button" BasedOn="{StaticResource DS_Button}" />
            <Style TargetType="TextBox" BasedOn="{StaticResource DS_Input}" />
            <Style TargetType="CheckBox" BasedOn="{StaticResource DS_CheckBox}" />
            <Style TargetType="ComboBox" BasedOn="{StaticResource DS_ComboBox}" />
            <Style TargetType="ToolTip" BasedOn="{StaticResource DS_ToolTip}" />
            <Style TargetType="Expander" BasedOn="{StaticResource DS_Accordion}" />
            <Style TargetType="TabControl" BasedOn="{StaticResource DS_Tabs}" />
            <Style TargetType="TabItem" BasedOn="{StaticResource DS_TabItem}" />
            <Style TargetType="ScrollBar" BasedOn="{StaticResource DS_ScrollBar}" />
            <Style TargetType="ListView" BasedOn="{StaticResource DS_Table}" />
            <Style TargetType="ListViewItem" BasedOn="{StaticResource DS_ListViewItem}" />
            <Style TargetType="GridViewColumnHeader" BasedOn="{StaticResource DS_ColumnHeader}" />

            <!-- Overriding MahApps Brushes with Design System Tokens -->
            <SolidColorBrush x:Key="MahApps.Colors.AccentBase" Color="{StaticResource DS_Primary}" />
            <SolidColorBrush x:Key="MahApps.Colors.Accent" Color="{StaticResource DS_Primary}" />
            <SolidColorBrush x:Key="MahApps.Colors.Accent2" Color="{StaticResource DS_PrimaryHover}" />
            <SolidColorBrush x:Key="MahApps.Colors.Accent3" Color="{StaticResource DS_PrimaryPressed}" />
            <SolidColorBrush x:Key="MahApps.Colors.Accent4" Color="{StaticResource DS_Primary}" />
            <SolidColorBrush x:Key="MahApps.Colors.Highlight" Color="{StaticResource DS_Primary}" />
            <SolidColorBrush x:Key="MahApps.Colors.IdealForeground" Color="{StaticResource DS_Foreground}" />

            <SolidColorBrush x:Key="MahApps.Brushes.IdealForegroundDisabled" Color="{StaticResource DS_ForegroundDisabled}" />
            <SolidColorBrush x:Key="MahApps.Brushes.Control.Background" Color="{StaticResource DS_Background}" />
            <SolidColorBrush x:Key="MahApps.Brushes.Control.Disabled" Color="{StaticResource DS_BackgroundMuted}" />
            <SolidColorBrush x:Key="MahApps.Brushes.Text" Color="{StaticResource DS_Foreground}" />
            <SolidColorBrush x:Key="MahApps.Brushes.Selected.Foreground" Color="{StaticResource DS_PrimaryForeground}" />
            <SolidColorBrush x:Key="MahApps.Brushes.Accent" Color="{StaticResource DS_Primary}" />
            <SolidColorBrush x:Key="MahApps.Brushes.TextBox.Border" Color="{StaticResource DS_Border}" />
            <SolidColorBrush x:Key="MahApps.Brushes.TextBox.Border.Focus" Color="{StaticResource DS_Ring}" />
            <SolidColorBrush x:Key="MahApps.Brushes.TextBox.Border.MouseOver" Color="{StaticResource DS_BorderHover}" />
            
            <!-- Application Background Overrides -->
            <SolidColorBrush x:Key="ApplicationBackgroundBrush" Color="{StaticResource DS_Background}" />
            <SolidColorBrush x:Key="TextFillColorPrimaryBrush" Color="{StaticResource DS_Foreground}" />
            <SolidColorBrush x:Key="TextFillColorSecondaryBrush" Color="{StaticResource DS_ForegroundSecondary}" />
            <SolidColorBrush x:Key="TextFillColorTertiaryBrush" Color="{StaticResource DS_ForegroundMuted}" />

            <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
            <local:InverseBooleanToVisibilityConverter x:Key="InverseBooleanToVisibilityConverter" />
            <local:InverseBooleanConverter x:Key="InverseBooleanConverter" />
            <local:Int32ValueConverter x:Key="Int32ValueConverter" />
            <local:ProfileIndexConverter x:Key="ProfileIndexConverter" />
            <local:IsSensorConverter x:Key="IsSensorConverter" />
            <local:IsPluginTableConverter x:Key="IsPluginTableConverter" />
            <local:CustomStepIndexConverter x:Key="CustomStepIndexConverter" />
            <local:NullToVisibilityConverter x:Key="NullToVisibilityConverter" />
            <local:NullToBooleanConverter x:Key="NullToBooleanConverter" />
            <local:IntToBooleanConverter x:Key="IntToBooleanConverter" />
            <local:SelectedItemTextConverter x:Key="SelectedItemTextConverter" />
            <local:IntStringValueConverter x:Key="IntStringValueConverter" />
            <local:IntDoubleValueConverter x:Key="IntDoubleValueConverter" />
            <local:EnumToDescriptionConverter x:Key="EnumToDescriptionConverter" />
            <local:FontFamilyConverter x:Key="FontFamilyConverter" />
            <local:BooleanToBrushConverter x:Key="BooleanToBrushConverter" />
            <local:EnumEqualsConverter x:Key="EnumEqualsConverter" />

            <converters:LockSymbolConverter x:Key="LockSymbolConverter" />
            <converters:LockColorConverter x:Key="LockColorConverter" />

            <BitmapImage x:Key="HwinfoIcon" UriSource="Resources/Images/hwinfo_icon.ico" />
            <BitmapImage x:Key="LibreIcon" UriSource="Resources/Images/libre_icon.ico" />

            <ObjectDataProvider
                x:Key="RotationValues"
                MethodName="GetValues"
                ObjectType="{x:Type sys:Enum}">
                <ObjectDataProvider.MethodParameters>
                    <x:Type TypeName="enums:Rotation" />
                </ObjectDataProvider.MethodParameters>
            </ObjectDataProvider>
        </ResourceDictionary>



    </Application.Resources>
</Application>
